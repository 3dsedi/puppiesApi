{"version":3,"file":"app.js","sourceRoot":"","sources":["../app.ts"],"names":[],"mappings":"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","sourcesContent":["import express from 'express';\nimport { Request, Response, Application } from 'express';\nimport { Puppy } from './models/puppy';\n\nconst bodyParser    = require('body-parser')\n\n\n const PUPPIES : Puppy[] =[\n  {id: 123 , breed: 'husky', name:'snow man', birthDate:'21.09.1986'},\n  {id: 124 , breed: 'sarabi', name:'SAG', birthDate:'21.09.1983'},\n  {id: 125 , breed: 'golden retriever', name:'goldi', birthDate:'21.09.1983'},\n  {id: 126 , breed: 'french bulldog', name:'martin', birthDate:'21.09.1983'},\n  {id: 127 , breed: 'beagle', name:'peggy', birthDate:'21.09.1983'},\n  {id: 128 , breed: 'poodle', name:'teddy', birthDate:'21.09.1983'},\n  {id: 129 , breed: 'golden retriever', name:'golden hair', birthDate:'21.09.1983'},\n  {id: 130 , breed: 'german shepherd', name:'rex', birthDate:'21.09.1983'},\n  {id: 131 , breed: 'afghan hound', name:'nikol', birthDate:'21.09.1983'},\n  {id: 132 , breed: 'german shepherd', name:'nina', birthDate:'21.09.1983'},\n ];\n\nconst app: Application = express();\napp.use(bodyParser.json())\napp.use(bodyParser.urlencoded({ extended: false }))\n\n\napp.get('/api/puppies', (_req: Request, res: Response) => {\n  return res.status(200).json({ puppies: PUPPIES });\n});\n\napp.get('/api/puppies/:id', (_req: Request, res: Response) => {\n  const puppyId = +((_req.params as {id:string}).id)\n  const puppyIndex = PUPPIES.findIndex(puppy => puppy.id === puppyId) \n  if(puppyIndex === -1){\n    throw new Error ('puppy missing')\n  }\n  const puppyInfo = PUPPIES[puppyIndex]\n  return res.status(200).json({puppy : puppyInfo})\n});\n\napp.post('/api/puppies', (_req: Request, res: Response) => {\n  console.log(JSON.stringify(_req.body));\n  const {name,breed,birthDate} = _req.body;\n  const newPuppy = new Puppy (Date.now(), breed, name, birthDate);\n  PUPPIES.push(newPuppy);\n  return res.status(201).json({message: 'new puppy added' , puppies: PUPPIES})\n});\n\napp.put('/api/puppies/:id', (_req: Request, res: Response) => {\n\n  const puppyId = +((_req.params as {id: string}).id);\n  const updatedName = (_req.body as { name: string }).name;\n    const updatedBreed = (_req.body as { breed: string }).breed;\n    const updatedBd = (_req.body as { birthDate: string }).birthDate;\n\n  const puppyIndex = PUPPIES.findIndex(puppy=> puppy.id === puppyId);\n  if (puppyIndex === -1){\n    throw new Error ('puppy not found')\n  }\n  PUPPIES[puppyIndex] = new Puppy(puppyId, updatedBreed, updatedName,updatedBd);\n\n  res.status(200).json({message: ' updated' , updatePuppy: PUPPIES[puppyIndex]})\n});\n\n\napp.delete('/api/puppies/:id', (_req: Request, res: Response) => {\n\n  const puppyId = +((_req.params as {id: string}).id);\n\n  const puppyIndex = PUPPIES.findIndex(puppy=> puppy.id === puppyId);\n  if (puppyIndex === -1){\n    throw new Error ('puppy not found')\n  }\n PUPPIES.splice(puppyIndex, 1)\n\n  res.status(200).json({message: ' puppy deleted'})\n});\n\nexport default app;\n"]}